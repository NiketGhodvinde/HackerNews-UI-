<div class="container mt-4 full-height">
  <h2 class="mb-3 text-center">üì∞ Newest Hacker News Stories</h2>

  <input type="text" class="form-control w-50" style="width: 268px;height: 22px;" placeholder="üîç Search stories..."
    [(ngModel)]="searchTerm" (input)="onSearch()" />

  <div *ngIf="loading" class="text-center text-muted">Loading stories...</div>

  <div class="scrollable-list">
    <ul *ngIf="!loading" class="list-group">
      <li *ngFor="let story of stories" class="list-group-item shadow-sm mb-3 rounded">
        <div class="fw-bold fs-5 mb-1">{{ story.title || '[No Title]' }}</div>
        <div class="d-flex flex-wrap justify-content-between align-items-center small text-muted">
          <div>
            üë§ <strong>{{ story.by || 'Unknown' }}</strong> |
            ‚≠ê {{ story.score }} |
            üïí {{ story.time * 1000 | date: 'medium' }}
          </div>
          <div *ngIf="story.url">
            <a [href]="story.url" target="_blank" class="btn btn-sm btn-outline-primary mt-2 mt-sm-0">
              Visit Article
            </a>
          </div>
          <div *ngIf="!story.url" class="text-danger mt-2 mt-sm-0">No Link Available</div>
        </div>
      </li>
    </ul>
  </div>

  <!-- Pagination -->
  <div *ngIf="totalPages > 0" class="fixed-pagination">
    <div class="d-flex justify-content-end">
      <nav class="pagination-container" aria-label="Page navigation">
        <ul class="pagination pagination-sm mb-0 flex-nowrap overflow-auto">
          <li class="page-item" [class.disabled]="currentPage === 1">
            <button class="page-link" (click)="changePage(1)" [disabled]="currentPage === 1">First</button>
          </li>
          <li class="page-item" [class.disabled]="currentPage === 1">
            <button class="page-link" (click)="changePage(currentPage - 1)"
              [disabled]="currentPage === 1">Previous</button>
          </li>
          <ng-container *ngFor="let page of getVisiblePages()">
            <li class="page-item" [class.active]="page === currentPage">
              <button class="page-link" (click)="changePage(page)">{{ page }}</button>
            </li>
          </ng-container>
          <li class="page-item" [class.disabled]="currentPage === totalPages">
            <button class="page-link" (click)="changePage(currentPage + 1)"
              [disabled]="currentPage === totalPages">Next</button>
          </li>
          <li class="page-item" [class.disabled]="currentPage === totalPages">
            <button class="page-link" (click)="changePage(totalPages)"
              [disabled]="currentPage === totalPages">Last</button>
          </li>
        </ul>
      </nav>
    </div>
  </div>
</div>